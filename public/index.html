<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Special Ravid Cyber Security Group - Azerbaycanca Chat</title>
  <style>
    /* Burada sizin mövcud CSS saxlanılıb */
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500&family=Roboto&display=swap');
    body, html {
      margin: 0; padding: 0; min-height: 100vh;
      font-family: 'Roboto', sans-serif;
      background: url('https://user-gen-media-assets.s3.amazonaws.com/gpt4o_images/e428440c-af9a-4d89-b881-83badcdf00b1.png') no-repeat center center fixed;
      background-size: cover;
      color: #fff;
      display: flex; flex-direction: column;
      transition: background-color 0.4s, color 0.4s;
    }
    /* ... (Mövcud bütün CSS dəyişməz qalır) ... */

    /* Chat bölməsi üçün əlavə stil */
    #chatMessages {
      list-style: none;
      padding: 0;
      max-height: 300px;
      overflow-y: auto;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 10px;
      margin-bottom: 10px;
    }
    #chatMessages li {
      padding: 6px 10px;
      border-bottom: 1px solid #b03b3b;
    }
    #chatInput {
      width: calc(100% - 100px);
      padding: 10px;
      border-radius: 6px;
      border: none;
      background: #330000;
      color: white;
      font-size: 16px;
      outline: none;
    }
    #sendMessageBtn {
      width: 80px;
      background-color: #e03e3e;
      border: none;
      border-radius: 6px;
      font-weight: 700;
      cursor: pointer;
      color: white;
      font-size: 16px;
      margin-left: 10px;
      transition: background-color 0.3s ease;
    }
    #sendMessageBtn:hover {
      background-color: #ff4b4b;
    }

  </style>
</head>
<body>
<header>
  <div class="social-icons">
    <!-- Mövcud social ikonlar -->
    <a href="https://facebook.com" target="_blank" aria-label="Facebook" title="Facebook">...</a>
    <a href="https://instagram.com" target="_blank" aria-label="Instagram" title="Instagram">...</a>
    <a href="https://twitter.com" target="_blank" aria-label="Twitter" title="Twitter">...</a>
  </div>
  <nav>
    <a href="#" class="nav-link active" data-target="about">Haqqımızda</a>
    <a href="#" class="nav-link" data-target="services">Xidmətlər</a>
    <a href="#" class="nav-link" data-target="contact">Əlaqə</a>
    <a href="#" class="nav-link" data-target="videos">Video</a>
    <a href="#" class="nav-link" data-target="chat">Chat</a>
  </nav>

  <!-- İstifadəçi qeydiyyat giriş düymələri -->
  <div class="auth-buttons" id="authButtons">
    <button id="openSignUp">Qeydiyyatdan Keç</button>
    <button id="openLogIn">Daxil Ol</button>
  </div>

  <!-- İstifadəçi profil ikonası və menyusu -->
  <div class="auth-sidebar-container" style="display:none;">
    <button id="sidebarToggle" aria-label="Profil menyusunu aç" title="Profil menyusunu aç">
      <img id="userAvatar" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Profil" />
    </button>
  </div>
</header>

<div class="title-container">Special Ravid Kibertəhlükəsizlik Qrupu</div>

<main>
  <section id="about" class="content-section active">
    <h2 class="section-title">Haqqımızda</h2>
    <p>Biz kibertəhlükəsizlik sahəsində peşəkar komandayıq, rəqəmsal aktivləri qorumağı qarşıya məqsəd qoymuşuq.</p>
    <img class="section-image" src="https://images.unsplash.com/photo-1508387023364-73bf61e7dae0?auto=format&fit=crop&w=900&q=80" alt="Kibertəhlükəsizlik Komandası" />
  </section>
  <section id="services" class="content-section">
    <h2 class="section-title">Xidmətlərimiz</h2>
    <ul class="services-list">
      <li>Penetrasiya Testləri və Etik Hacking</li>
      <li>Şəbəkə Təhlükəsizliyi Analizi</li>
      <li>Zəiflik Qiymətləndirməsi</li>
      <li>Təhlükəsizlik Məsləhətçisi</li>
      <li>Hadisələrə Reaksiya</li>
    </ul>
  </section>
  <section id="contact" class="content-section">
    <h2 class="section-title">Bizimlə Əlaqə</h2>
    <p>Sual və təkliflər üçün bizimlə <a href="mailto:contact@specialravid.com" style="color:#e03e3e;">contact@specialravid.com</a> ünvanı vasitəsilə əlaqə saxlaya bilərsiniz.</p>
  </section>
  <section id="videos" class="content-section">
    <h2 class="section-title">Hacker Videoları</h2>
    <iframe src="https://www.youtube.com/embed/ZtqBQ68cfJc" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/UTBtemGIdwE" allowfullscreen></iframe>
    <iframe src="https://www.youtube.com/embed/6vRpLxPSaN0" allowfullscreen></iframe>
  </section>
  <section id="chat" class="content-section">
    <h2 class="section-title">Bizimlə Söhbət</h2>
    <ul id="chatMessages"></ul>
    <input id="chatInput" placeholder="Mesaj yazın..." autocomplete="off" />
    <button id="sendMessageBtn">Göndər</button>
  </section>
</main>

<!-- Qeydiyyat Modal -->
<div id="signUpModal" class="modal-overlay" style="display:none;">
  <div class="modal">
    <div class="close-btn" id="closeSignUp">&times;</div>
    <h3>Qeydiyyatdan Keç</h3>
    <form id="signupForm">
      <label for="signupEmail">Email</label>
      <input type="email" id="signupEmail" required autocomplete="email" />
      <label for="signupPassword">Şifrə</label>
      <input type="password" id="signupPassword" required autocomplete="new-password" />
      <button type="submit">Qeydiyyatdan Keç</button>
    </form>
  </div>
</div>

<!-- Daxil Olma Modal -->
<div id="logInModal" class="modal-overlay" style="display:none;">
  <div class="modal">
    <div class="close-btn" id="closeLogIn">&times;</div>
    <h3>Daxil Ol</h3>
    <form id="loginForm">
      <label for="loginEmail">Email</label>
      <input type="email" id="loginEmail" required autocomplete="email" />
      <label for="loginPassword">Şifrə</label>
      <input type="password" id="loginPassword" required autocomplete="current-password" />
      <button type="submit">Daxil Ol</button>
    </form>
  </div>
</div>

<div id="sidebar" class="sidebar">
  <button id="closeSidebar" aria-label="Menyunu bağla" title="Menyunu bağla">&times;</button>
  <div class="sidebar-profile">
    <img id="sidebarAvatar" src="https://cdn-icons-png.flaticon.com/512/149/149071.png" alt="Profil" />
    <p id="sidebarEmail"></p>
  </div>
  <button id="sidebarLogoutBtn" class="sidebar-logout-btn">Çıxış</button>
</div>

<script>
  // Naviqasiya menyusunu idarə edən kod (öz mövcud skriptiniz)
  const navLinks = document.querySelectorAll('.nav-link');
  const sections = document.querySelectorAll('.content-section');

  navLinks.forEach(link => {
    link.addEventListener('click', e => {
      e.preventDefault();
      const target = link.getAttribute('data-target');
      navLinks.forEach(l => l.classList.remove('active'));
      sections.forEach(s => s.classList.remove('active'));
      link.classList.add('active');
      document.getElementById(target).classList.add('active');
    });
  });
</script>

<script type="module">
  // Firebase SDK modulları
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-app.js";
  import {
    getAuth, setPersistence, browserLocalPersistence,
    createUserWithEmailAndPassword, signInWithEmailAndPassword,
    signOut, onAuthStateChanged
  } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-auth.js";
  import {
    getDatabase, ref, push, onChildAdded
  } from "https://www.gstatic.com/firebasejs/12.1.0/firebase-database.js";

  // Firebase Konfiqurasiya (öz layihə məlumatlarınızla əvəz edin)
  const firebaseConfig = {
    apiKey: "AIzaSyCzXp1qAMiquJxOSgVocoyiYd9RVzyGfx0",
    authDomain: "riomeet-2580c.firebaseapp.com",
    databaseURL: "https://riomeet-2580c-default-rtdb.firebaseio.com",
    projectId: "riomeet-2580c",
    storageBucket: "riomeet-2580c.appspot.com",
    messagingSenderId: "423282018929",
    appId: "1:423282018929:web:0ca497fa11133bf11129d0",
    measurementId: "G-90CDDV6XCL"
  };

  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const database = getDatabase(app);

  setPersistence(auth, browserLocalPersistence);

  const signUpModal = document.getElementById('signUpModal');
  const logInModal = document.getElementById('logInModal');

  const openSignUpBtn = document.getElementById('openSignUp');
  const openLogInBtn = document.getElementById('openLogIn');
  const closeSignUpBtn = document.getElementById('closeSignUp');
  const closeLogInBtn = document.getElementById('closeLogIn');

  const sidebar = document.getElementById('sidebar');
  const sidebarToggle = document.getElementById('sidebarToggle');
  const closeSidebarBtn = document.getElementById('closeSidebar');
  const sidebarEmail = document.getElementById('sidebarEmail');
  const sidebarAvatar = document.getElementById('sidebarAvatar');
  const logoutBtnSidebar = document.getElementById('sidebarLogoutBtn');

  const authButtonsDiv = document.getElementById('authButtons');
  const authSidebarContainer = document.querySelector('.auth-sidebar-container');

  const chatSection = document.getElementById('chat');
  const chatMessages = document.getElementById('chatMessages');
  const chatInput = document.getElementById('chatInput');
  const sendMessageBtn = document.getElementById('sendMessageBtn');

  // Modal açılıb-bağlama funksiyaları
  openSignUpBtn.addEventListener('click', () => { signUpModal.style.display = 'flex'; });
  openLogInBtn.addEventListener('click', () => { logInModal.style.display = 'flex'; });
  closeSignUpBtn.addEventListener('click', () => { signUpModal.style.display = 'none'; });
  closeLogInBtn.addEventListener('click', () => { logInModal.style.display = 'none'; });

  // Sidebar menyu açma/bağlama
  if(sidebarToggle) sidebarToggle.addEventListener('click', () => sidebar.classList.toggle('active'));
  closeSidebarBtn.addEventListener('click', () => sidebar.classList.remove('active'));

  logoutBtnSidebar.addEventListener('click', () => {
    signOut(auth).then(() => {
      alert('Uğurla çıxış etdiniz');
      sidebar.classList.remove('active');
      location.reload();
    }).catch(e => alert('Çıxış xətası: ' + e.message));
  });

  // Qeydiyyat formu
  const signupForm = document.getElementById('signupForm');
  signupForm.addEventListener('submit', e => {
    e.preventDefault();
    createUserWithEmailAndPassword(auth, signupForm.signupEmail.value, signupForm.signupPassword.value)
      .then(userCredential => {
        alert('Qeydiyyat uğurludur: ' + userCredential.user.email);
        signUpModal.style.display = 'none';
        signupForm.reset();
        location.reload();
      })
      .catch(e => alert('Qeydiyyat xətası: ' + e.message));
  });

  // Daxil olma formu
  const loginForm = document.getElementById('loginForm');
  loginForm.addEventListener('submit', e => {
    e.preventDefault();
    signInWithEmailAndPassword(auth, loginForm.loginEmail.value, loginForm.loginPassword.value)
      .then(userCredential => {
        alert('Uğurla daxil oldunuz: ' + userCredential.user.email);
        logInModal.style.display = 'none';
        loginForm.reset();
        location.reload();
      })
      .catch(e => alert('Giriş xətası: ' + e.message));
  });

  // İstifadəçi vəziyyətini izləmə və menyu dəyişmə
  onAuthStateChanged(auth, user => {
    if (user) {
      sidebarEmail.textContent = user.email;
      sidebarAvatar.src = user.photoURL || 'https://cdn-icons-png.flaticon.com/512/149/149071.png';
      document.getElementById('userAvatar').src = sidebarAvatar.src;
      authButtonsDiv.style.display = 'none';
      authSidebarContainer.style.display = 'flex';
      // Chat bölməsini aktiv edirik (naviqasiya ilə eynilə)
      navLinks.forEach(l => { if(l.dataset.target === 'chat') l.style.display = 'inline-block'; });
    } else {
      authButtonsDiv.style.display = 'flex';
      authSidebarContainer.style.display = 'none';
      sidebar.classList.remove('active');
      navLinks.forEach(l => { if(l.dataset.target === 'chat') l.style.display = 'none'; });
      if(document.querySelector('.nav-link.active').dataset.target === 'chat'){
        document.querySelector('.nav-link[data-target="about"]').click();
      }
    }
  });

  // Mesaj göndərmə funksiyası
  sendMessageBtn.addEventListener('click', () => {
    const text = chatInput.value.trim();
    if(!text) return;
    const user = auth.currentUser;
    if(!user) return alert("Chat üçün daxil olun");
    push(ref(database, 'messages'), {
      userEmail: user.email,
      message: text,
      timestamp: Date.now()
    });
    chatInput.value = '';
  });

  // Mesajların real vaxtda göstərilməsi
  onChildAdded(ref(database, 'messages'), snapshot => {
    const data = snapshot.val();
    const li = document.createElement('li');
    const time = new Date(data.timestamp).toLocaleTimeString();
    li.textContent = `[${time}] ${data.userEmail}: ${data.message}`;
    chatMessages.appendChild(li);
    chatMessages.scrollTop = chatMessages.scrollHeight;
  });

  // Başlanğıcda chat menyusunu gizlədək, istifadəçi üçün aktiv edək
  const navLinks = document.querySelectorAll('.nav-link');
  navLinks.forEach(l => { if(l.dataset.target === 'chat') l.style.display = 'none'; });

</script>

<script type="text/javascript">
  // Sizin mövcud Tawk.to skripti silinmir, olduğu kimi qalır
  var Tawk_API = Tawk_API || {}, Tawk_LoadStart = new Date();
  (function () {
    var s1 = document.createElement("script"), s0 = document.getElementsByTagName("script")[0];
    s1.async = true;
    s1.src = 'https://embed.tawk.to/68a6f9ec371fc8192c765662/1j3640hna';
    s1.charset = 'UTF-8';
    s1.setAttribute('crossorigin', '*');
    s0.parentNode.insertBefore(s1, s0);
  })();
</script>
</body>
</html>
